## 异步
#### ajax请求
标准ajax请求不是同步完成，当**现在**我们发出一个异步Ajax请求，在**将来**才会得到结果。通常使用一个称为回调函数的函数。
> 可以发送同步Ajax请求，但是在任何情况下都不应该使用这种方式。因为它会锁定浏览器UI，并阻塞所有的用户交互。

#### 事件循环
JavaScript引擎只是在需要的事情将给定的任意时刻执行程序中的单个代码块。 

所有的环境都存在一个共同的"thread"，即提供一种机制来处理多个块的执行，且执行每块时调用JavaScript引擎，这种机制被称为事件循环。事件循环的每一轮称为一个`tick`，而`setTimeout`是将代码块放在程序未来某个tick执行。
> 换句话说，js引擎没有时间概念，只是一个按需执行js任意代码的环境。事件调度总是由包含它的环境执行。

#### 完整运行
由于JavaScript的单线程特性，单一函数中的代码具有原子性，一旦开始运行，所有代码都会在下一个方法的代码运行之前完成，或者相反。这称为**完整运行**特性。

> 竞态条件：同一段代码存在多个不同的可能输出。这种不确定性是在函数(事件)级别上，而不是多线程情况下的语句级别(表达式运算顺序级别)。此种函数顺序的不确定性就是通常所说的竞态条件。即foo()和bar()相互竞争，看谁先运行。无法预料a和b的最终结果，所以才是竞态条件。

#### 并发
假设有一个展示状态更新列表的网站，随着用户向下滚动逐渐加载内容。要正确实现两个特性，需要两个独立"进程"同时运行。(在同一段时间而不需要在同一时刻)
- 在用户向下滚动页面触发onscroll事件发起ajax请求新的内容
- 接受ajax响应并显示

如果用户滚动足够快，等待第一个响应返回并处理的时候可能会看到两个或者更多的onscroll事件触发，因此得到彼此交替的onscroll事件和ajax响应事件。此时事件循环中可能出现**不同顺序**的交替事件。进程1和进程2并发运行，但是它们的各个事件时在事件循环队列中依次执行的。单线程事件循环是并发的一种形式。

##### 非交互
两个进程在同一程序内并发的交替运行他们的步骤/事件，任务彼此不相关。不需要交互。其不确定性是完全可以被接受的。
> 这不是竞态条件的bug，因为不论顺序。代码总会工作。

##### 交互
更常见的情况在于并发的进程需要相互交流，通过作用域或者DOM间接交互。如果出现就需要对其交互进行协调避免竞态出现。



